<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>House Results</title>
</head>
<body>
    <h1>House Results</h1>
    <div id="house-results"></div>
    <script>
        // Function to make an AJAX request and display data
        function fetchData() {
            fetch('http://localhost:8080/get_houses') // This URL matches the API endpoint in server.py
                .then(response => response.json())
                .then(data => {
                    const houseResults = document.getElementById('house-results');
                    houseResults.innerHTML = ''; // Clear previous results
    
                    // Create a table to display the data
                    const table = document.createElement('table');
                    const headerRow = table.insertRow(0);
    
                    // Add table headers
                    for (const key in data[0]) {
                        const th = document.createElement('th');
                        th.textContent = key;
                        headerRow.appendChild(th);
                    }
    
                    // Add table rows with data
                    data.forEach(house => {
                        const row = table.insertRow();
                        for (const key in house) {
                            const cell = row.insertCell();
                            cell.textContent = house[key];
                        }
                    });
    
                    houseResults.appendChild(table);
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                });
        }
    
        // Call the fetchData function when the page loads
        window.addEventListener('load', fetchData);
    </script>
</body>
</html>


